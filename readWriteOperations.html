<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Apr 30, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Read/Write Operations</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Mathieu Cambillau" />
    <meta name="Date-Creation-yyyymmdd" content="20120429" />
    <meta name="Date-Revision-yyyymmdd" content="20120430" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Concurrency-utils
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-04-30</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.0</span>
                      </div>
            <div class="xright">                    <a href="http://www.apache.org/" class="externalLink" title="Apache">Apache</a>
            |
                        <a href="http://maven.apache.org/maven-1.x/" class="externalLink" title="Maven 1.x">Maven 1.x</a>
            |
                        <a href="http://maven.apache.org/" class="externalLink" title="Maven 2">Maven 2</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Usage</h5>
                  <ul>
                  <li class="none">
                          <a href="concurrentCollections.html" title="Concurrent collections">Concurrent collections</a>
            </li>
                  <li class="none">
                          <a href="multiLock.html" title="Multi Lock">Multi Lock</a>
            </li>
                  <li class="none">
            <strong>Read/Write Operations</strong>
          </li>
                  <li class="none">
                          <a href="unitTesting.html" title="Unit testing">Unit testing</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Read/Write Operations<a name="ReadWrite_Operations"></a></h2><div class="section"><h3>Introduction<a name="Introduction"></a></h3><p>The library provides an easy way of extending or composing your existing classes with a read/write synchronization mechanism similar as the one provided by ReadWriteSet and ReadWriteList. The only classes you have to use to do so are the following:</p><ul><li>ReadWriteSynchronizedOperator</li><li>SynchronizedOperationWithoutResult</li><li>SynchronizedOperationWithResult<p>Contrary to the java provided synchronized mechanism, using ReadWriteSynchronizedOperator allows an unlimited number of concurrent reading threads, which can greatly improve performance of highly concurrent applications. To ensure data consistency, only one thread can perform write operations at a time.</p></li></ul></div><div class="section"><h3>Example<a name="Example"></a></h3><p>Here is an example of how you can make a class thread safe in a more flexible and efficient way than using the java synchronized mechanism:</p><div class="source"><pre>public class ConcurrentClass {

   private ReadWriteSynchronizedOperator readWriteSynchronizedOperator = new ReadWriteSynchronizedOperator();

    public String yourReadOperation() {
        String result = this.readWriteSynchronizedOperator.doRead(new SynchronizedOperationWithResult&lt;String&gt;() {
           @Override
           public String doOperation() {
               //Do your read operation instead
               String result = &quot;readString&quot;;
               return result;
           }
        });
        return result;
    }

    public String yourWriteOperation() {
        String result = this.readWriteSynchronizedOperator.doWrite(new SynchronizedOperationWithResult&lt;String&gt;() {
            @Override
            public String doOperation() {
                //Do you write operation instead
                String result = &quot;writtenString&quot;;
                return result;
            }
        });
        return result;
    }
 }</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2012.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
